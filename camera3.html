<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Camera Focus on ID Card</title>
    <style>
      #video {
        width: 100%;
        height: 75vh;
        object-fit: cover;
        /* Adjusts the video to fill the area without distortion */
      }
    </style>
  </head>
  <body>
    <video id="video" autoplay playsinline></video>
    <canvas id="canvas"></canvas>
    <script>
      const video = document.getElementById("video");
      const canvas = document.getElementById("canvas");
      const context = canvas.getContext("2d");

      // Access camera with constraints
      navigator.mediaDevices
        .getUserMedia(constraints)
        .then((stream) => {
          video.srcObject = stream;
          video.play();
        })
        .catch((error) => console.error("Camera access failed", error));

      // Draw guide on canvas
      video.addEventListener("loadeddata", () => {
        canvas.width = video.videoWidth;
        canvas.height = video.videoHeight;

        function draw() {
          context.drawImage(video, 0, 0, canvas.width, canvas.height);

          // Draw guide box
          const boxWidth = 300; // Adjust for ID card size
          const boxHeight = 100;
          const boxX = (canvas.width - boxWidth) / 2;
          const boxY = (canvas.height - boxHeight) / 2;

          context.strokeStyle = "green";
          context.lineWidth = 3;
          context.strokeRect(boxX, boxY, boxWidth, boxHeight);

          requestAnimationFrame(draw);
        }

        draw();
      });
    </script>
  </body>
</html>
